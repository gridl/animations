\def \NineIsLate{1}
\input{diagrams}
\def \FastRender{1}
\def \InputVersion{9}
\def \DrawDefaultLegend{0}
\def \maxy{5.222}

%\def \UsePerfectWatermark{1}
%\def \DottedPerfectWatermark{1}
\def \DottedHeuristicWatermark{0}

\newdimen \timeDim
\newdimen \yDim

\newcommand{\DrawOutputAt}[4]{
  % #1 = x1
  % #2 = y2
  % #3 = value
  % #4 = percentage
  \yDim=#2 pt
  \ifthenelse{\lengthtest{\yDim > \timeDim}}
    {}
    {\DrawOutputz{#1}{#1 + 2}{0.000}{#2}{#3}{#4}}
}

\newcommand{\DrawOutputsAt}[1] {
  \timeDim=#1 pt

  \DrawOutputAt{0}{2.933}{10}{100\%}
  \DrawOutputAt{0}{1.633}{7}{66\%}
  \DrawOutputAt{0}{0.866}{4}{33\%}
  \DrawOutputAt{2}{3.99}{10}{100\%}
  \DrawOutputAt{2}{3.04}{8}{66\%}
  \DrawOutputAt{2}{1.755}{4}{33\%}
  \DrawOutputAt{4}{4.255}{10}{100\%}	
  \DrawOutputAt{4}{3.22}{10}{66\%}	
  \DrawOutputAt{4}{2.05}{5}{33\%}	
  \DrawOutputAt{6}{5.075}{10}{100\%}
  \DrawOutputAt{6}{4.225}{7}{66\%}
  \DrawOutputAt{6}{3.4}{4}{33\%}
}

\newcommand{\DrawStates}[5]{
  \def \val{#2}
  \if \val 0
  \else
  	\DrawState{0}{2}{0}{#1}{#2}
  \fi
  \def \val{#3}
  \if \val 0
  \else
  	\DrawState{2}{4}{0}{#1}{#3}
  \fi
  \def \val{#4}
  \if \val 0
  \else
  	\DrawState{4}{6}{0}{#1}{#4}
  \fi
  \def \val{#5}
  \if \val 0
  \else
  	\DrawState{6}{8}{0}{#1}{#5}
  \fi
}

\newcommand{\Frame}[6][c_timeline] {
\TriggersDiagram[#1]{#2}{
  \def \wmx{\ox + 2.5}
  \def \wmy{-1.15}
  \WatermarkLegend[0]{\wmx}{\wmy}{100\% Watermark}{s_watermark}
  \WatermarkLegend[0]{\wmx}{\wmy - .4}{66\% Watermark}{s_watermark, densely dotted}
  \WatermarkLegend[0]{\wmx}{\wmy - .8}{33\% Watermark}{s_watermark, dotted}
  \WatermarkLegend[0]{\wmx}{\wmy - 1.2}{Ideal Watermark}{s_ideal, solid}

  \DrawStates{#2}{#3}{#4}{#5}{#6}
  \DrawOutputsAt{#2}
}
}

\newcommand{\FrameFinal}[0] {
\Frame[c_back]{5.333}{0}{0}{0}{0}
}
\FrameFinal

\Frame{.01}{0}{0}{0}{0}
\if \FastRender 0
\Frame{.111}{0}{0}{0}{0}
\Frame{.222}{1}{0}{0}{0}
\Frame{.333}{1}{0}{0}{0}
\Frame{.444}{2}{0}{0}{0}
\Frame{.555}{3}{0}{0}{0}
\Frame{.666}{4}{0}{0}{0}
\Frame{.777}{4}{0}{0}{0}
\Frame{.888}{4}{1}{1}{0}
\Frame{1.000}{5}{1}{1}{0}
\Frame{1.111}{5}{2}{2}{0}
\Frame{1.222}{6}{3}{2}{0}
\Frame{1.333}{7}{3}{3}{0}
\Frame{1.444}{7}{3}{3}{0}
\Frame{1.555}{7}{4}{4}{0}
\Frame{1.666}{8}{4}{4}{0}
\Frame{1.777}{8}{4}{5}{0}
\Frame{1.888}{8}{4}{5}{1}
\Frame{2.000}{9}{4}{5}{1}
\Frame{2.111}{10}{4}{6}{2}
\Frame{2.222}{10}{5}{7}{2}
\Frame{2.333}{10}{5}{8}{2}
\Frame{2.444}{10}{5}{8}{2}
\Frame{2.555}{10}{5}{8}{3}
\Frame{2.666}{10}{5}{10}{3}
\Frame{2.777}{10}{7}{10}{3}
\Frame{2.888}{10}{7}{10}{4}
\fi % \if \FastRender 0
\Frame{3.000}{10}{8}{10}{4}
\if \FastRender 0
\Frame{3.111}{10}{9}{10}{4}
\Frame{3.222}{10}{9}{10}{4}
\Frame{3.333}{10}{9}{10}{4}
\Frame{3.444}{10}{9}{10}{5}
\Frame{3.555}{10}{10}{10}{6}
\Frame{3.666}{10}{10}{10}{6}
\Frame{3.777}{10}{10}{10}{6}
\Frame{3.888}{10}{10}{10}{7}
\Frame{4.000}{10}{10}{10}{7}
\Frame{4.111}{10}{10}{10}{7}
\Frame{4.222}{10}{10}{10}{7}
\Frame{4.333}{10}{10}{10}{8}
\Frame{4.444}{10}{10}{10}{8}
\Frame{4.555}{10}{10}{10}{9}
\Frame{4.666}{10}{10}{10}{9}
\Frame{4.777}{10}{10}{10}{10}
\Frame{4.888}{10}{10}{10}{10}
\Frame{5.000}{10}{10}{10}{10}
\Frame{5.111}{10}{10}{10}{10}
\Frame{5.222}{10}{10}{10}{10}
\fi % \if \FastRender 0

\DrawFinalFrames{\FrameFinal}

\end{document}
